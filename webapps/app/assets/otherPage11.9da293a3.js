import{d,ad as eu,a as b,e as w,o as h,q as g,r as S,n as L,g as _,_ as $,h as V,k as tu,x as R,y,a2 as au,A as su,aq as T,B as ou,f as G,w as u,C as s,s as e,K as nu,J as ru,v as j,M as lu,N as iu,L as M,cO as cu,O as du}from"./index.50081dc1.js";import{E as _u,a as pu}from"./el-col.ebef9d30.js";import{E as Eu}from"./el-card.6353d1b4.js";import"./el-input.975228c3.js";import"./el-tag.43523872.js";import{E as fu,a as mu}from"./el-select.ee1dfcd0.js";import"./event.776e7e11.js";import"./_Uint8Array.3bbe8fb3.js";import"./isEqual.421e0394.js";const Fu=d({name:"ElContainer"}),Bu=d({...Fu,props:{direction:{type:String}},setup(i){const t=i,n=eu(),c=b("container"),o=w(()=>t.direction==="vertical"?!0:t.direction==="horizontal"?!1:n&&n.default?n.default().some(v=>{const A=v.type.name;return A==="ElHeader"||A==="ElFooter"}):!1);return(p,v)=>(h(),g("section",{class:L([_(c).b(),_(c).is("vertical",_(o))])},[S(p.$slots,"default")],2))}});var hu=$(Bu,[["__file","container.vue"]]);const vu=d({name:"ElAside"}),Au=d({...vu,props:{width:{type:String,default:null}},setup(i){const t=i,n=b("aside"),c=w(()=>t.width?n.cssVarBlock({width:t.width}):{});return(o,p)=>(h(),g("aside",{class:L(_(n).b()),style:V(_(c))},[S(o.$slots,"default")],6))}});var q=$(Au,[["__file","aside.vue"]]);const Cu=d({name:"ElFooter"}),Du=d({...Cu,props:{height:{type:String,default:null}},setup(i){const t=i,n=b("footer"),c=w(()=>t.height?n.cssVarBlock({height:t.height}):{});return(o,p)=>(h(),g("footer",{class:L(_(n).b()),style:V(_(c))},[S(o.$slots,"default")],6))}});var J=$(Du,[["__file","footer.vue"]]);const yu=d({name:"ElHeader"}),gu=d({...yu,props:{height:{type:String,default:null}},setup(i){const t=i,n=b("header"),c=w(()=>t.height?n.cssVarBlock({height:t.height}):{});return(o,p)=>(h(),g("header",{class:L(_(n).b()),style:V(_(c))},[S(o.$slots,"default")],6))}});var K=$(gu,[["__file","header.vue"]]);const xu=d({name:"ElMain"}),ku=d({...xu,setup(i){const t=b("main");return(n,c)=>(h(),g("main",{class:L(_(t).b())},[S(n.$slots,"default")],2))}});var W=$(ku,[["__file","main.vue"]]);const bu=tu(hu,{Aside:q,Footer:J,Header:K,Main:W});R(q);R(J);const wu=R(K),Su=R(W);const B=i=>(lu("data-v-91fa7b5c"),i=i(),iu(),i),Lu=B(()=>e("div",{class:"header-title"},"\u6A21\u578B\u6548\u679C\u76D1\u63A7",-1)),$u={class:"model-selector"},Mu={class:"kpi-card"},Ru=B(()=>e("div",{class:"kpi-title"},"\u6A21\u578B\u51C6\u786E\u7387 (Accuracy)",-1)),zu={class:"kpi-card digital-card"},Ou=B(()=>e("div",{class:"kpi-title"},"\u5E73\u5747\u7EDD\u5BF9\u8BEF\u5DEE (MAE)",-1)),Vu={class:"kpi-value"},Nu=B(()=>e("div",{class:"kpi-desc"},"\u6570\u503C\u8D8A\u5C0F, \u6A21\u578B\u8D8A\u4F18",-1)),Iu={class:"kpi-card digital-card"},Pu=B(()=>e("div",{class:"kpi-title"},"\u5747\u65B9\u6839\u8BEF\u5DEE (RMSE)",-1)),Uu={class:"kpi-value"},Hu=B(()=>e("div",{class:"kpi-desc"},"\u5BF9\u5927\u8BEF\u5DEE\u66F4\u654F\u611F",-1)),Tu=B(()=>e("div",{class:"chart-title"},"\u9884\u6D4B\u503C\u4E0E\u5B9E\u9645\u503C\u5BF9\u6BD4\u8D8B\u52BF",-1)),Gu=B(()=>e("div",{class:"chart-title"},"\u6A21\u578B\u5173\u952E\u5F71\u54CD\u56E0\u5B50\u5206\u6790",-1)),ju=B(()=>e("div",{class:"chart-title"},"\u9884\u6D4B\u8BEF\u5DEE\u5206\u5E03\u56FE",-1)),qu="\u672C\u9875\u9762\u63D0\u4F9B\u6A21\u578B\u6548\u679C\u7684\u5168\u9762\u76D1\u63A7\u89C6\u56FE\uFF0C\u7528\u6237\u53EF\u901A\u8FC7\u5DE6\u4E0A\u89D2\u7684\u6A21\u578B\u9009\u62E9\u5668\u5207\u6362\u67E5\u770B\u4E0D\u540C\u9884\u6D4B\u6A21\u578B\u7684\u8BE6\u7EC6\u6027\u80FD\u6570\u636E\u3002\u9875\u9762\u4E0A\u65B9\u5C55\u793A\u4E86\u6240\u9009\u6A21\u578B\u7684\u5173\u952E\u6027\u80FD\u6307\u6807\uFF0C\u5982\u51C6\u786E\u7387\u3001\u5E73\u5747\u7EDD\u5BF9\u8BEF\u5DEE\u548C\u5747\u65B9\u6839\u8BEF\u5DEE\uFF0C\u76F4\u89C2\u53CD\u6620\u6A21\u578B\u7684\u603B\u4F53\u8868\u73B0\u3002\u6838\u5FC3\u533A\u57DF\u4EE5\u53CC\u6298\u7EBF\u56FE\u5F62\u5F0F\u5BF9\u6BD4\u4E86\u6A21\u578B\u9884\u6D4B\u503C\u4E0E\u771F\u5B9E\u5386\u53F2\u503C\u7684\u8D8B\u52BF\uFF0C\u7528\u4EE5\u8BC4\u4F30\u6A21\u578B\u7684\u62DF\u5408\u5EA6\u548C\u9884\u6D4B\u80FD\u529B\u3002\u5176\u4E0B\u7684\u6C34\u5E73\u6761\u5F62\u56FE\u63ED\u793A\u4E86\u5F71\u54CD\u6A21\u578B\u9884\u6D4B\u7ED3\u679C\u7684\u5173\u952E\u56E0\u5B50\u53CA\u5176\u91CD\u8981\u6027\u6392\u5E8F\uFF0C\u589E\u5F3A\u4E86\u6A21\u578B\u7684\u53EF\u89E3\u91CA\u6027\u3002\u65C1\u8FB9\u7684\u8BEF\u5DEE\u5206\u5E03\u76F4\u65B9\u56FE\u5219\u5C55\u793A\u4E86\u6A21\u578B\u9884\u6D4B\u8BEF\u5DEE\u7684\u5206\u5E03\u72B6\u6001\uFF0C\u6709\u52A9\u4E8E\u5206\u6790\u6A21\u578B\u7684\u7CFB\u7EDF\u6027\u504F\u5DEE\u3002\u6240\u6709\u56FE\u8868\u548C\u6570\u636E\u5747\u4F1A\u6839\u636E\u6240\u9009\u6A21\u578B\u52A8\u6001\u66F4\u65B0\u3002",Ju=d({__name:"otherPage11",setup(i){const t=y("price_model"),n=y([{value:"price_model",label:"\u5927\u5B97\u5546\u54C1\u4EF7\u683C\u9884\u6D4B\u6A21\u578B"},{value:"sales_model",label:"\u5FEB\u6D88\u54C1\u9500\u91CF\u9884\u6D4B\u6A21\u578B"},{value:"risk_model",label:"\u4F9B\u5E94\u94FE\u4E2D\u65AD\u98CE\u9669\u8BC4\u4F30\u6A21\u578B"}]),c={price_model:{kpi:{accuracy:.965,mae:15.72,rmse:20.45},trend:{dates:Array.from({length:30},(a,r)=>`2023-11-${r+1}`),predictions:[450,455,460,458,462,470,475,473,478,480,485,483,488,490,495,492,498,500,505,503,508,510,515,513,518,520,525,523,528,530],actuals:[448,452,463,455,465,468,478,470,481,479,488,480,491,488,498,490,501,498,508,500,511,508,518,510,521,518,528,520,531,528]},features:{names:["\u5B8F\u89C2\u7ECF\u6D4E\u6307\u6570","\u56FD\u9645\u539F\u6CB9\u4EF7\u683C","\u4E0B\u6E38\u884C\u4E1A\u9700\u6C42","\u5730\u7F18\u653F\u6CBB\u98CE\u9669","\u5B63\u8282\u6027\u5E93\u5B58","\u5E02\u573A\u60C5\u7EEA\u6307\u6570"],importance:[.12,.18,.25,.08,.15,.22]},errors:Array.from({length:1e3},()=>(Math.random()-.5)*20+2.5)},sales_model:{kpi:{accuracy:.921,mae:120.5,rmse:155.8},trend:{dates:Array.from({length:30},(a,r)=>`2023-11-${r+1}`),predictions:[2200,2250,2300,2280,2320,2400,2450,2430,2480,2500,2550,2530,2580,2600,2650,2620,2680,2700,2750,2730,2780,2800,2850,2830,2880,2900,2950,2930,2980,3e3].map(a=>a+300),actuals:[2180,2220,2330,2250,2350,2380,2480,2400,2510,2490,2580,2500,2610,2580,2680,2600,2710,2680,2780,2700,2810,2780,2880,2800,2910,2880,2980,2900,3010,2980].map(a=>a+300)},features:{names:["\u5E7F\u544A\u6295\u653E\u5F3A\u5EA6","\u8282\u5047\u65E5\u6548\u5E94","\u7ADE\u54C1\u4EF7\u683C\u52A8\u6001","\u95E8\u5E97\u5BA2\u6D41\u91CF","\u4FC3\u9500\u6D3B\u52A8\u529B\u5EA6","\u5929\u6C14\u56E0\u7D20"],importance:[.28,.15,.19,.11,.22,.05]},errors:Array.from({length:1e3},()=>(Math.random()-.5)*200-10)},risk_model:{kpi:{accuracy:.982,mae:.05,rmse:.08},trend:{dates:Array.from({length:30},(a,r)=>`2023-11-${r+1}`),predictions:[.05,.06,.05,.07,.08,.07,.06,.09,.1,.11,.1,.12,.13,.12,.11,.1,.09,.08,.07,.06,.05,.04,.05,.06,.07,.08,.09,.1,.11,.1],actuals:[.06,.05,.06,.08,.07,.08,.05,.1,.09,.12,.09,.13,.12,.13,.1,.11,.08,.09,.06,.07,.04,.05,.06,.05,.08,.07,.1,.09,.12,.09]},features:{names:["\u4F9B\u5E94\u5546\u96C6\u4E2D\u5EA6","\u6E2F\u53E3\u62E5\u5835\u6307\u6570","\u539F\u6750\u6599\u4EA7\u5730\u653F\u7B56","\u6781\u7AEF\u5929\u6C14\u9884\u8B66","\u8FD0\u8F93\u8DEF\u7EBF\u7A33\u5B9A\u6027","\u56FD\u9645\u8D38\u6613\u653F\u7B56"],importance:[.21,.17,.26,.14,.11,.11]},errors:Array.from({length:1e3},()=>(Math.random()-.5)*.1+.01)}},o=w(()=>c[t.value]),p=y(null),v=y(null),A=y(null),z=y(null);let E=null,f=null,m=null,F=null;const Q=()=>{p.value&&(E=M(p.value),N()),v.value&&(f=M(v.value),I()),A.value&&(m=M(A.value),P()),z.value&&(F=M(z.value),U())},N=()=>{if(!E)return;const a={series:[{type:"gauge",startAngle:180,endAngle:0,min:0,max:1,splitNumber:5,axisLine:{lineStyle:{width:8,color:[[.8,"#FF6E76"],[.95,"#FDDD60"],[1,"#58D9A5"]]}},pointer:{icon:"path://M12.8,0.7l12,40.1H0.7L12.8,0.7z",length:"12%",width:20,offsetCenter:[0,"-60%"],itemStyle:{color:"auto"}},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{distance:15,color:"#999",fontSize:12},detail:{valueAnimation:!0,formatter:"{value}",color:"auto",fontSize:30,offsetCenter:[0,"0%"]},data:[{value:o.value.kpi.accuracy,name:"Accuracy"}]}]};E.setOption(a)},I=()=>{if(!f)return;const a={tooltip:{trigger:"axis"},legend:{data:["\u6A21\u578B\u9884\u6D4B\u503C","\u771F\u5B9E\u5386\u53F2\u503C"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:o.value.trend.dates},yAxis:{type:"value"},series:[{name:"\u6A21\u578B\u9884\u6D4B\u503C",type:"line",smooth:!0,data:o.value.trend.predictions,itemStyle:{color:"#3A84FF"}},{name:"\u771F\u5B9E\u5386\u53F2\u503C",type:"line",smooth:!0,data:o.value.trend.actuals,itemStyle:{color:"#4BCB99"}}]};f.setOption(a)},P=()=>{if(!m)return;const a=o.value.features.names.map((l,x)=>({name:l,value:o.value.features.importance[x]})).sort((l,x)=>l.value-x.value),r={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value",boundaryGap:[0,.01]},yAxis:{type:"category",data:a.map(l=>l.name)},series:[{name:"\u91CD\u8981\u6027",type:"bar",data:a.map(l=>l.value),itemStyle:{color:new cu(1,0,0,0,[{offset:0,color:"#83bff6"},{offset:1,color:"#188df0"}])}}]};m.setOption(r)},U=()=>{if(!F)return;const a={dataset:[{source:o.value.errors.map(r=>[r])},{transform:{type:"ecStat:histogram",config:{}}}],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",name:"\u8BEF\u5DEE\u533A\u95F4",axisLabel:{formatter:function(r){return parseFloat(r).toFixed(2)}}},yAxis:{type:"value",name:"\u9891\u6570"},series:{name:"\u9891\u6570",type:"bar",barWidth:"99.3%",datasetIndex:1,itemStyle:{color:"#5470c6"}}};F.setOption(a)};au(t,()=>{T(()=>{N(),I(),P(),U()})});const H=()=>{E==null||E.resize(),f==null||f.resize(),m==null||m.resize(),F==null||F.resize()};su(()=>{T(()=>{Q(),window.addEventListener("resize",H)}),X()}),ou(()=>{window.removeEventListener("resize",H),E==null||E.dispose(),f==null||f.dispose(),m==null||m.dispose(),F==null||F.dispose()});const X=()=>{if({}.VITE_APP_STATUS==="1"){let a=Date.now().toString()+"_model_monitoring_page_manual.txt";const r=new Blob([qu],{type:"text/plain"}),l=document.createElement("a");l.href=URL.createObjectURL(r),l.download=a,l.click(),URL.revokeObjectURL(l.href)}else return};return(a,r)=>{const l=fu,x=mu,Y=wu,C=Eu,D=_u,O=pu,Z=Su,uu=bu;return h(),G(uu,{class:"monitoring-container"},{default:u(()=>[s(Y,{class:"monitoring-header"},{default:u(()=>[Lu,e("div",$u,[s(x,{modelValue:t.value,"onUpdate:modelValue":r[0]||(r[0]=k=>t.value=k),placeholder:"\u8BF7\u9009\u62E9\u6A21\u578B",size:"large",style:{width:"280px"}},{default:u(()=>[(h(!0),g(ru,null,nu(n.value,k=>(h(),G(l,{key:k.value,label:k.label,value:k.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),_:1}),s(Z,{class:"monitoring-main"},{default:u(()=>[s(O,{gutter:20},{default:u(()=>[s(D,{span:8},{default:u(()=>[s(C,{shadow:"hover"},{default:u(()=>[e("div",Mu,[Ru,e("div",{ref_key:"accuracyGaugeRef",ref:p,class:"kpi-chart"},null,512)])]),_:1})]),_:1}),s(D,{span:8},{default:u(()=>[s(C,{shadow:"hover"},{default:u(()=>[e("div",zu,[Ou,e("div",Vu,j(o.value.kpi.mae),1),Nu])]),_:1})]),_:1}),s(D,{span:8},{default:u(()=>[s(C,{shadow:"hover"},{default:u(()=>[e("div",Iu,[Pu,e("div",Uu,j(o.value.kpi.rmse),1),Hu])]),_:1})]),_:1})]),_:1}),s(O,{gutter:20,style:{"margin-top":"20px"}},{default:u(()=>[s(D,{span:24},{default:u(()=>[s(C,{shadow:"hover"},{default:u(()=>[Tu,e("div",{ref_key:"trendLineChartRef",ref:v,class:"main-chart"},null,512)]),_:1})]),_:1})]),_:1}),s(O,{gutter:20,style:{"margin-top":"20px"}},{default:u(()=>[s(D,{span:12},{default:u(()=>[s(C,{shadow:"hover"},{default:u(()=>[Gu,e("div",{ref_key:"featureBarChartRef",ref:A,class:"sub-chart"},null,512)]),_:1})]),_:1}),s(D,{span:12},{default:u(()=>[s(C,{shadow:"hover"},{default:u(()=>[ju,e("div",{ref_key:"errorHistogramChartRef",ref:z,class:"sub-chart"},null,512)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}});const ae=du(Ju,[["__scopeId","data-v-91fa7b5c"]]);export{ae as default};
