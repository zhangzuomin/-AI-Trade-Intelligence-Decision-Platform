import{d as P,dq as N,dr as O,A as R,y,ds as q,z,dt as j,du as H,aS as w,o as J,q as K,s as d,v as M,g as v,dv as $,C as e,w as o,aD as G,I as p,h as Q,ca as W,E as X,U as Y,O as Z}from"./index.50081dc1.js";import{E as uu,a as eu}from"./el-form-item.5eda86ef.js";import{E as tu}from"./el-link.29d655ef.js";import{E as ou}from"./el-checkbox.47029e22.js";import{E as su}from"./el-input.975228c3.js";import{t as s}from"./globalThemeSetting.d090f180.js";import{E as ru}from"./index.214ab26a.js";import"./_Uint8Array.3bbe8fb3.js";import"./event.776e7e11.js";import"./isEqual.421e0394.js";const au={class:"login-container"},lu={class:"login-header"},nu={class:"login-title"},iu={class:"pwd-tips"},du={class:"login-text"},mu=P({__name:"login",setup(cu){const i=N(),_=O(),m={}.VITE_APP_STATUS;R(()=>{i.setHeaderBgColor(s.headerBgColor),i.setHeaderTextColor(s.headerTextColor),_.setBgColor(s.sidebarBgColor),_.setTextColor(s.sidebarTextColor),i.setPropertyColor(s.tableAddColor,"success"),i.setPropertyColor(s.tableViewColor,"warning"),i.setPropertyColor(s.tableEditColor,"primary"),i.setPropertyColor(s.tableDeleteColor,"danger")});const A=()=>{if(m==="1"){let a="2_register.txt",u="\u8FDB\u884C\u6CE8\u518C\u64CD\u4F5C\u65F6,\u5728\u6B64\u9875\u9762\uFF0C\u9700\u8981\u586B\u5199\u7528\u6237\u540D\u3001\u5BC6\u7801\u548C\u7535\u5B50\u90AE\u4EF6\u5730\u5740\u3002\u8BF7\u786E\u4FDD\u9009\u62E9\u7684\u7528\u6237\u540D\u662F\u552F\u4E00\u7684\uFF0C\u5E76\u4E14\u5BC6\u7801\u5E94\u5305\u542B\u5B57\u6BCD\u3001\u6570\u5B57\u548C\u7279\u6B8A\u5B57\u7B26\uFF0C\u4EE5\u589E\u5F3A\u5B89\u5168\u6027\u3002\u5728\u586B\u5199\u5B8C\u6BD5\u540E\uFF0C\u70B9\u51FB\u201C\u7ACB\u5373\u6CE8\u518C\u201D\u6309\u94AE\u4EE5\u5B8C\u6210\u6CE8\u518C\u3002\u6210\u529F\u6CE8\u518C\u540E\uFF0C\u4FBF\u80FD\u591F\u4F7F\u7528\u65B0\u8D26\u6237\u767B\u5F55\u7CFB\u7EDF\u3002";const l=new Blob([u],{type:"text/plain"}),t=document.createElement("a");t.href=URL.createObjectURL(l),t.download=a,t.click()}else return},S=()=>{if(m==="1"){let a="3_forget_password.txt",u="\u5F53\u9009\u62E9\u4E86\u5FD8\u8BB0\u5BC6\u7801\u7684\u9009\u9879\u3002\u8BF7\u786E\u4FDD\u8F93\u5165\u4E86\u4E0E\u8BE5\u8D26\u6237\u5173\u8054\u7684\u7535\u5B50\u90AE\u4EF6\u5730\u5740\u3002\u7CFB\u7EDF\u5C06\u5411\u8BE5\u90AE\u7BB1\u53D1\u9001\u4E00\u5C01\u91CD\u7F6E\u5BC6\u7801\u7684\u90AE\u4EF6\u3002\u6309\u7167\u90AE\u4EF6\u4E2D\u7684\u6307\u793A\u64CD\u4F5C\uFF0C\u4FBF\u80FD\u591F\u91CD\u65B0\u8BBE\u7F6E\u60A8\u7684\u5BC6\u7801\u5E76\u5B89\u5168\u5730\u8BBF\u95EE\u8BE5\u8D26\u6237\u3002\u5982\u679C\u6CA1\u6709\u6536\u5230\u90AE\u4EF6\uFF0C\u68C0\u67E5\u5783\u573E\u90AE\u4EF6\u6587\u4EF6\u5939\u4E0B\u6709\u8BEF\u9A8C\u8BC1\u7801\u3002";const l=new Blob([u],{type:"text/plain"}),t=document.createElement("a");t.href=URL.createObjectURL(l),t.download=a,t.click()}else return},k=()=>{A(),E.push("/register")},h=()=>{S(),E.push("/reset-pwd")};console.log(m,typeof m,"11111111");const C=localStorage.getItem("login-param"),c=C?JSON.parse(C):null,B=y(!!C),E=q(),r=z({username:c?c.username:"",password:c?c.password:""}),V={username:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",trigger:"blur"}],password:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801",trigger:"blur"}]},g=j(),F=y(),f=a=>{!a||a.validate(u=>{if(u){localStorage.setItem("vuems_name",r.username);const l=g.defaultList[r.username=="admin"?"admin":"user"];g.handleSet(l),E.push(W[0].index),B.value?localStorage.setItem("login-param",JSON.stringify(r)):localStorage.removeItem("login-param")}else return ru.error("\u767B\u5F55\u5931\u8D25"),!1})};return H().clearTabs(),(a,u)=>{const l=w("User"),t=X,D=su,b=uu,T=w("Lock"),U=ou,x=tu,I=Y,L=eu;return J(),K("div",{class:"login-bg login-img",style:Q({background:v(s).loginBgColor})},[d("div",au,[d("div",lu,[d("div",nu,M(v($)),1)]),e(L,{model:r,rules:V,ref_key:"login",ref:F,size:"large"},{default:o(()=>[e(b,{prop:"username"},{default:o(()=>[e(D,{modelValue:r.username,"onUpdate:modelValue":u[0]||(u[0]=n=>r.username=n),placeholder:"\u7528\u6237\u540D"},{prepend:o(()=>[e(t,null,{default:o(()=>[e(l)]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(b,{prop:"password"},{default:o(()=>[e(D,{type:"password",placeholder:"\u5BC6\u7801",modelValue:r.password,"onUpdate:modelValue":u[1]||(u[1]=n=>r.password=n),onKeyup:u[2]||(u[2]=G(n=>f(F.value),["enter"]))},{prepend:o(()=>[e(t,null,{default:o(()=>[e(T)]),_:1})]),_:1},8,["modelValue"])]),_:1}),d("div",iu,[e(U,{class:"pwd-checkbox",modelValue:B.value,"onUpdate:modelValue":u[3]||(u[3]=n=>B.value=n),label:"\u8BB0\u4F4F\u5BC6\u7801"},null,8,["modelValue"]),e(x,{type:"primary",onClick:h},{default:o(()=>[p("\u5FD8\u8BB0\u5BC6\u7801")]),_:1})]),e(I,{class:"login-btn",type:"primary",size:"large",onClick:u[4]||(u[4]=n=>f(F.value))},{default:o(()=>[p("\u767B\u5F55")]),_:1}),d("p",du,[p(" \u6CA1\u6709\u8D26\u53F7\uFF1F"),e(x,{type:"primary",onClick:k},{default:o(()=>[p("\u7ACB\u5373\u6CE8\u518C")]),_:1})])]),_:1},8,["model"])])],4)}}});const yu=Z(mu,[["__scopeId","data-v-f966e180"]]);export{yu as default};
